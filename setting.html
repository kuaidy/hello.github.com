<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="keywords" content="优秀网站，有趣网站，创意网站，网址导航，上网主页，网站分享">
    <meta name="description" content="优秀网站，在线音乐，免费视频，设计，游戏，学习，阅读，资源搜索，导航">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <base target="_blank">
	<title>寻-找一些有趣的东西</title>
	<link rel="stylesheet" href="css/style.css">
	<script src="js/jquery.min.js"></script>
	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "https://hm.baidu.com/hm.js?03f8ad279ffe2551a5248a523213cac4";
		  var s = document.getElementsByTagName("script")[0]; 
		  s.parentNode.insertBefore(hm, s);
		})();
	</script>
	<meta name="baidu_union_verify" content="eca8b06640ca20341ee578ec86d7e7f3">
	<meta name="baidu-site-verification" content="wx66rdv1hJ" />
</head>
<body>
	<div class="main">
	<div id="header" class="outbox"><!--header-->
        <div class="navinner">
            <span id="span2"><a href="http://www.rdonly.com/">寻</a></span>
            <span id="span3">
                <ul id="nav">
                    <!-- <li><i>new</i><a href="./tooldown.html">软件下载</a></li> -->
                    <!-- <li><a target="_blank" href="https://shimo.im/docs/tAx0zmGUMLwPTdsq/ 「留言&闲聊」">留言</a></li> -->
                    <li id="moreinfo">
                        <a href="./moresites.html" title="更多站点">更多</a>
                        <!-- <ul id="moreinfo_tags">
                            <li class="moreinfo_tag"><a href="http://blog.rdonly.com/">博客</a></li>
                        </ul> -->
                    </li>
                    <li><a href="./update.html">关于</a></li>
                    <li><a href="./update.html">···</a></li>
                </ul>
            </span>
        </div>
    </div>

	<div class="Setting">
		<div class="setname">
			<ul class="ulsettypes">
				<li class="lisettype">
					<label>自定义网址</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>阅读（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>社区（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>文艺（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>视频（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>直播（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>资源（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>动漫（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>游戏（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>设计（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>图标（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>PPT（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>博客（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>工具（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>在线文档（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>站长工具（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>学习（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>问答（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>网络安全（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>应用（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>自媒体（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>工作（默认）</label>
					<input type="checkbox" class="switch">
				</li>
                <li class="lisettype">
					<label>导航（默认）</label>
					<input type="checkbox" class="switch">
				</li>
			</ul>
		</div>
		<div class="setoption">
			<input type="button" value="添加分类" class="optionbutton">
			<input type="button" value="添加网址" class="optionbutton">
			<input type="button" value="保存" class="optionbutton">
			<input type="button" value="导出" class="optionbutton">
			<input type="button" value="导入" class="optionbutton">
		</div>

		<div id="content" class="inner"><!--content-->
			<div class="tags"> 
				<span class="titlesign"></span>		
				<h3>常用网站</h3>
			</div>
			<div class="sitediv" id="">
				
			</div>
		</div> 
	</div>

	<div class="AddSites">
	</div>
	
	<div class="AddForm">
		<div class="sitetitle">
			<span>网站名称</span>
			<input type="text">
		</div>

		<div class="siteurl">
			<span>网站地址</span>
			<input type="text">
		</div>

		<div class="sitetype">
			<span>网站分类</span>
			<input type="text">
		</div>
		<div class="siteoption">
			<button>确定</button>
			<button>取消</button>
		</div>
	</div>	
	</div>
    
</body>

<script>

	

	//判断浏览器是否可用indexeddb数据库
	function IsSupportIndexeddb(){
		window.indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;
		
		window.IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.msIDBTransaction;
		window.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange || window.msIDBKeyRange
		
		if (!window.indexedDB) {
			window.alert("您的浏览器不支持indexeddb数据库，无法使用此功能，请使用最新版谷歌，edge，火狐浏览器！")
			return false;
		}else{
			return true;
		}
	}

	var DBNAME="NAVDATABASE";
	var VERSION=1;
	var TBTYPE="SITESTYPES";
	var TBSITES="SITES"
	var db;

	//创建一个数据库，版本号为1，表
	function CreateDatabase(){
		var request = indexedDB.open(DBNAME,VERSION);
		
		request.onerror = function(event) {
			console.log("创建失败");
		};
         
		request.onupgradeneeded = function(event) {
			db = event.target.result;
			if (!db.objectStoreNames.contains(TBTYPE)){
				db.createObjectStore(TBTYPE, { autoIncrement:true});
			}
			if (!db.objectStoreNames.contains(TBSITES)){
				db.createObjectStore(TBSITES, { autoIncrement:true });
			}
		}

		request.onsuccess = function(event) {
			db = event.target.result;
            console.log("创建成功");
         };
	}

	//添加内容
	function Add(obj,dbname,version,data){
		var request = indexedDB.open(DBNAME,VERSION);
		request.onsuccess = function(event) {
			db = event.target.result;

            var res = db.transaction([obj],'readwrite').objectStore(obj).add(data);

			res.onsuccess = function (event) {
				console.log('数据写入成功');
			};

			res.onerror = function (event) {
				console.log('数据写入失败');
			}
         };
		
	};
	CreateDatabase();
	var data={"分类":"常用","网址":"https://www.rdonly.com"};
	Add(TBSITES,DBNAME,VERSION,data);
</script>
</html>